!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("Draw",[],e):"object"==typeof exports?exports.Draw=e():t.Draw=e()}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/assets",e(e.s=3)}([function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;i(this,t),this.X=e,this.Y=n}return r(t,[{key:"equals",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new t(0,0);return this.X==e.X&&this.Y==e.Y}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.X,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.Y;return this.X=t,this.Y=e,this}},{key:"midpoint",value:function(e){var n=e.X+this.X;n/=2;var i=e.Y+this.Y;return i/=2,new t(n,i)}},{key:"clone",value:function(){return new t(this.X,this.Y)}},{key:"toString",value:function(){return"{x:"+this.X+", y:"+this.Y+"}"}}],[{key:"random",value:function(){return new t(Math.random(),Math.random())}}]),t}();e.a=o},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=n(0),o=n(4),a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function(){function t(e){i(this,t),"string"==typeof e&&(e=document.getElementById(e)),this.context=e.getContext("2d"),this.node=e,this.objects=[],this.pan={X:0,Y:0},this.renderer=new o.a,this.updateSize(),this._initEventListeners()}return a(t,[{key:"_pixelRatio",value:function(){return(window.devicePixelRatio||1)/(this.context.webkitBackingStorePixelRatio||this.context.mozBackingStorePixelRatio||this.context.msBackingStorePixelRatio||this.context.oBackingStorePixelRatio||this.context.backingStorePixelRatio||1)}},{key:"transformPoint",value:function(t){return t.update(t.X-this.pan.X,t.Y-this.pan.Y)}},{key:"updateSize",value:function(){var t=this._pixelRatio(),e=document.body.clientWidth,n=document.body.clientHeight;this.node.setAttribute("width",e*t),this.node.setAttribute("height",n*t),this.node.style.width=e+"px",this.node.style.height=n+"px",this.context.setTransform(t,0,0,t,0,0)}},{key:"add",value:function(t){this.trigger("object:added"),t.canvas=this,this.objects.unshift(t)}},{key:"_initEventListeners",value:function(){for(var t=this,e=["click","mousedown","mouseup","wheel"],n=0;n<e.length;n++)!function(){var i=e[n];t.on(i,function(e){var n=!0,o=!1,a=void 0;try{for(var s,u=t.objects[Symbol.iterator]();!(n=(s=u.next()).done);n=!0){var h=s.value;if(h._hitTest(e,t)){t.trigger("object:"+i,{point:t.transformPoint(new r.a(e.clientX,e.clientY)),obj:h,originalEvent:e});break}}}catch(t){o=!0,a=t}finally{try{!n&&u.return&&u.return()}finally{if(o)throw a}}})}()}},{key:"_clearFrame",value:function(){this.context.save(),this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.width,this.height),this.context.restore()}},{key:"absolutePan",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.pan={X:t,Y:e},this}},{key:"trigger",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new Event(t,{});Object.assign(n,e),this.node.dispatchEvent(n)}},{key:"on",value:function(t,e){this.node.addEventListener(t,e)}},{key:"relativePan",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.pan={X:this.pan.X+t,Y:this.pan.Y+e},this}},{key:"render",value:function(){this._clearFrame(),this.trigger("before:render"),this.context.setTransform(1,0,0,1,0,0),this.context.translate(this.pan.X,this.pan.Y);var t=!0,e=!1,n=void 0;try{for(var i,r=this.objects[Symbol.iterator]();!(t=(i=r.next()).done);t=!0){i.value.draw(this.context)}}catch(t){e=!0,n=t}finally{try{!t&&r.return&&r.return()}finally{if(e)throw n}}this.trigger("after:render")}},{key:"width",get:function(){return this.node.getAttribute("width")}},{key:"height",get:function(){return this.node.getAttribute("height")}}]),t}();e.a=s},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(5),s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},h=function(t){function e(t){i(this,e);var n=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.tlRadius=n.trRadius=n.brRadius=n.blRadius=0,n}return o(e,t),s(e,[{key:"setRadius",value:function(t,e,n,i){return!Number.isInteger(t)||e||n||i?Number.isInteger(t)&&Number.isInteger(e)&&!n&&!i?(this.setRadius(t,e,t,e),this):(this.set({tlRadius:t,trRadius:e,brRadius:n,blRadius:i},!1),this):(this.setRadius(t,t,t,t),this)}},{key:"imagine",value:function(t){var e=this.left+this.width,n=this.top+this.height;t.beginPath(),t.moveTo(this.left+this.tlRadius,this.top),t.lineTo(e-this.tlRadius,this.top),t.quadraticCurveTo(e,this.top,e,this.top+this.trRadius),t.lineTo(e,this.top+this.height-this.trRadius),t.quadraticCurveTo(e,n,e-this.brRadius,n),t.lineTo(this.left+this.brRadius,n),t.quadraticCurveTo(this.left,n,this.left,n-this.blRadius),t.lineTo(this.left,this.top+this.blRadius),t.quadraticCurveTo(this.left,this.top,this.left+this.tlRadius,this.top),t.closePath()}},{key:"draw",value:function(t){u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"draw",this).call(this,t),this.imagine(t),t.stroke(),t.fill()}}]),e}(a.a);e.a=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1);n.d(e,"Stage",function(){return i.a});var r=n(0);n.d(e,"Point",function(){return r.a});var o=n(2);n.d(e,"Box",function(){return o.a})},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",function(){return r});var r=function t(){i(this,t)}},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=n(0),o=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.internal,r=void 0!==n&&n,o=e.left,a=void 0===o?0:o,s=e.top,u=void 0===s?0:s,h=e.width,c=void 0===h?0:h,l=e.height,f=void 0===l?0:l,d=e.stroke,v=void 0===d?1:d,p=e.strokeColor,y=void 0===p?"#3d3d3d":p,b=e.fill,g=void 0===b?"#CCC":b,w=e.canvas,m=void 0===w?null:w;i(this,t),this.internal=r,this.left=a,this.top=u,this.width=c,this.height=f,this.stroke=v,this.strokeColor=y,this.fill=g,this.canvas=m}return a(t,[{key:"set",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!0,i=!1,r=void 0;try{for(var a,s=Object.entries(t)[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var u=o(a.value,2),h=u[0],c=u[1];this[h]=c}}catch(t){i=!0,r=t}finally{try{!n&&s.return&&s.return()}finally{if(i)throw r}}e&&this.canvas&&this.canvas.render()}},{key:"_hitTest",value:function(t,e){var n=new r.a(t.clientX,t.clientY);return n=e.transformPoint(n),n.Y>this.top&&n.Y<this.bottom&&n.X>this.left&&n.X<this.right}},{key:"draw",value:function(t){t.fillStyle=this.fill,t.strokeStyle=this.strokeColor}},{key:"right",get:function(){return this.left+this.width}},{key:"bottom",get:function(){return this.top+this.height}},{key:"topLeft",get:function(){return new r.a(this.left,this.top)}},{key:"topRight",get:function(){return new r.a(this.right,this.top)}},{key:"bottomLeft",get:function(){return new r.a(this.left,this.bottom)}},{key:"bottomRight",get:function(){return new r.a(this.right,this.bottom)}}]),t}();e.a=s}])});
//# sourceMappingURL=app.min.js.map